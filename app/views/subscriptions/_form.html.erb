<%= form_with model: [ user, user.subscriptions.build ] do |form| %>
  <div class="form-group">
    <%= form.label :parameter %>
    <%= form.select :parameter,
                    options_for_select(Subscription.parameters.keys,
                                       selected: subscription.parameter),
                    {},
                    { class: "form-control" } %>
    <%= render 'subscriptions/error', subscription: subscription, field: :parameter %>
  </div>

  <div class="form-group">
    <%= form.label :name %>
    <%= form.text_field :name, class: "form-control" %>
    <%= render 'subscriptions/error', subscription: subscription, field: :name %>
  </div>

  <div class="form-group">
    <%= form.label :frequency %>
    <%= form.select :frequency,
                    options_for_select(Subscription.frequencies.keys,
                                       selected: subscription.frequency),
                    {},
                    { class: "form-control" } %>
    <%= render 'subscriptions/error', subscription: subscription, field: :frequency %>
  </div>

  <div>
    <%= form.submit 'Subscribe', class: 'btn btn-outline-primary' %>
    <%= link_to 'Back', :back, class: 'btn btn-outline-secondary' %>
  </div>
<% end %>
